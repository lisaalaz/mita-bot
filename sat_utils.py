exercise_titles = [
            "0: None",
            "1: Recalling childhood memories",
            "2: Embracing and comforting the Child",
            "3: Singing a song of affection",
            "4: Expressing love and care for the Child",
            "5: Pledging to support and care for the Child",
            "6: Restoring our emotional world",
            "7: Maintaining a loving relationship with the Child and creating zest for life",
            "8: Enjoying nature",
            "9: Overcoming current negative emotions",
            "10: Overcoming past pain",
            "11: Muscle relaxation and playful face for intentional laughing",
            "12: Victory laughter on our own",
            "13: Laughing with our childhood self",
            "14: Intentional laughter",
            "15: Learning to change your perspective",
            "16: Learning to be playful about your past pains",
            "17: Identifying patterns of acting out personal resentments",
            "18: Planning more constructive actions",
            "19: Finding and bonding with your compassionate role model",
            "20: Updating our rigid beliefs to enhance creativity", 
            "21: Practicing Affirmations",
            "22: Using laughter to come to terms with a tragedy",
            "23: Try to become gradually aware of your IWM and the influence of your primary care-givers and early environment",
            "24: Recognizing and containing the internal persecutor",
            "25: Solving personal crises",
            "26: Discovering your true, free, and sovereign self in this age of emergency",
        ]

title_to_exercise = {
            exercise_titles[i]: i for i in range(len(exercise_titles))
        }

exercise_texts = [
            ["None"],
            ["In a quiet place, look at your happy and unhappy photos. Recall positive and negative childhood memories and early relationships in the family."],
            [
                "2a:",
                  "(i) With your eyes closed, first imagine your happy photo/avatar, imagining that the child is near you.",
                  "(ii) now imagine you are embracing the child.",
                  "(iii) now imagine you are playing with the child, e.g. a game that you played as a child.",
                  "(iv) now imagine you are dancing with the child.",
                  "Reflect on how you feel in each phase from (i) to (iv).",
                "2b:",
                  "(i) With your eyes closed, imagine your unhappy photo/avatar, imagining the child is near you.",
                  "(ii) now imagine you are embracing and consoling the child.",
                  "(iii) Open your eyes, put on the Google Cardboard or and:",
                    "(a) Set a negative emotion (sad, angry, fearful or disgusted) on your avatar.",
                    "(b) Then click on Auto Emotion ‚Äù and by staring at your child avatar imagine you are reassuring and comforting your child which makes the child happy and eventually dance.",
                  "Reflect on how you feel in each phase from (i) to (iii).",
            ],
            ["Print copies of happy photo to display at home, work, and in your wallet. Consider setting its digital image as the background on your phone and laptop, etc. Select a jolly lyrical song you cherish that invokes feelings of warmth, affection, love. Learn the song by heart and sing it as often as you can in your daily routine. While looking at the happy photo/avatar, sing the song, as a way to establish a deep emotional bond with the child in your mind. Start quietly; then, over time, allow your voice to become louder while using more of your body (e.g. shaking your shoulders, hands, and lifting your eyebrows up and down). Imagine that in this way, like a parent, you are have a loving, passionate dialogue and are joyfully dancing and playing with the child."],
            ["While genuinely smiling at the happy photo/avatar, loudly say to your child: 'I passionately love you and deeply care for you'."],
            ["In this exercise, we start to care for the child as our own child. We attribute and project our own emotions to the child. We, as our adult self, begin with a pledge we make at an especial time and place. After reading the pledge silently, we confidently pledge out loud the following: 'From now on, I will seek to act as a devoted and loving parent to this child, consistently and wholeheartedly care for them in every way possible. I will do everything I can to support the health and emotional growth of this child'."],
            ["Through imagination or by drawing, consider your emotional world as a home with some derelict parts that you will fully renovate. The new home is intended to provide a safe haven at times of distress for the child and a safe base for the child to tackle life's challenges. The new home and its garden is bright and sunny; we imagine carrying out these self attachment exercises in this environment. The unrestored basement of the new house is the remnant of the derelict house and contains our negative emotions. When suffering negative emotions, imagine that the child is trapped in the basement but can gradually learn to open the door of the basement, walk out and enter the bright rooms, reuniting with the adult."],
            [
                "7a: Choose some short phrase, e.g., 'You are my beautiful child' or 'My love'. Say it slowly, out loud at least five times as you look at the happy photo/avatar. Then sing your favourite chosen love song at least five times. As previously, increase your volume and begin to use your whole body.",
                "7b: While looking in a mirror, imagine your image to be that of the Child (i.e., your emotional self), then begin to loudly sing your previously chosen song. As previously, increase your volume and begin to use your whole body. (If you find it difficult to imagine the Child in the mirror, put the 'Happy' photo of your Child in front of the mirror and do the exercise while looking at your Happy childhood photo in the mirror). Do this twice now and then as many times as possible in different circumstances during the day, such as while on the way to work or while cooking dinner, to integrate them into your new life. When singing your favourite song becomes a habit of yours, it becomes an effective tool for enhancing positive affects and managing emotions.",
            ],
            ["Creating an attachment to nature for your Child is an effective way to increase joy and reduce negative emotions. Go outside to a garden, local park, wood or forest. Spend at least 5 minutes admiring a tree, attempting to appreciate its real beauty as you have never previously experienced. Repeat this process, including with other aspects of nature (e.g. sky, stars, plants, birds, rivers, sea, your favourite animal), until you feel you have developed an attachment to nature that helps regulate your emotions. Achieving this will help you want to spend more time in nature after this course ends."],
            [
                "With closed eyes, imagine the unhappy photo/avatar and project your negative emotions to the unhappy photo/avatar representing the Child.",
                "While doing this:",
                "(i) loudly reassure the Child.",
                "(ii) give your face/neck/head a self massage.",
                "Repeat these steps until you are calmed and comforted.",
            ],
            [
                "With closed eyes, recall a painful childhood episode, such as emotional or physical abuse or loss of a significant figure, with all the details your still remember. Associate the face of the Child you were in the past with the selected unhappy photo/avatar. As you remember the associated emotions, e.g., helplessness, humiliation and rage, with closed eyes, imagine your Adult intervening in the scene like a good parent. ",
                "Imagine your Adult:",
                   "(i) approaching your Child quickly like any good parent with their child in distress.",
                   "(ii) loudly reassuring the Child that you have now come to save them, by standing up with a loud voice to any perpetrator, for example: 'Why are you hitting my Child?', and by supporting the Child with a loud voice, for example: 'My darling, I will not let them hurt you anymore'.",
                   "(iii) imaginatively cuddling your Child, by giving yourself a face/neck/head self-massage.",
                "Repeat (i), (ii), (iii) until comforted and soothed, acquiring mastery over the trauma.",
            ],
            ["For this exercise, try to act like a child: loosen up facial and body muscles, open up your mouth and sing your favourite song while laughing (or at least smiling) on your own."],
            ["Immediately after accomplishing something, e.g. doing household chores, having a conversation with a neighbour, or reading an article, and smile at the thought of this as an achievement, then once you are comfortable, begin to laugh for at least ten seconds."],
            ["Looking at your happy photo/avatar, smile and then begin to laugh for at least ten seconds. Repeat this process at least three times."],
            ["At a time when you are alone, open your mouth slightly, loosen your face muscles, raise your eyebrows, then slowly and continuously repeat one of the following tones, each of which uses a minimum amount of energy: 'eh, eh, eh, eh'; or 'ah, ah, ah, ah'; or 'oh, oh, oh, oh'; or 'uh, uh, uh, uh'; or 'ye, ye, ye, ye'. If you need a subject to laugh at, you can laugh at the silliness of the exercise! Once this continuous intentional laughter becomes a habit, you would be able to shape it according to your personality and style to create your own brand of laughter."],
            ["Stare at the black vase. Laugh or at least smile for one minute the moment your perception changes and you see two white faces, conceived as Adult and Child, looking at each other (IT, ST, PT). Stare at the two white faces and laugh or at least smile for one minute the moment your perception changes and you see the black vase (IT, ST)."],
            ["Visualize a painful event that took place in the past (it can be a recent event that you have struggled with, or a painful event that took place in your childhood and you have endured for a long time), and despite its painfulness, try to see a positive impact it has had for you. Use any of the theories for humour to try to laugh or at least smile at the event."],
            ["Try to identify any pattern of narcissistic and anti social feelings that your Child has acted out in your current or past relationships or any long term resentment borne against someone. Try to recognize how much of your time and energy is consumed in such acting out and bearing resentment."],
            [
                "Work out a new way to handle, in the future, what you have identified as acting out antisocial feelings or bearing personal resentment in your life.",
                "1. Without denying these feelings, try to reflect and contain them and avoid acting them out. Try to let go of the personal resentment. This may be hard and challenging but it is necessary for emotional growth. Here, you are taking a critical but constructive stance towards your Child and are exercising foresighted compassion.",
                "2. Find a positive way of re-channeling the aggressive energy invoked by these feelings into productive work (e.g., going for some exercise, talking to a friend, etc.) and ultimately into creative work towards your noble goal in life.",
            ],
            [
                "Look in your past life for a compassionate figure who impressed you by being kind and helpful with some words of wisdom when you had problems.",
                "For example, an older relative or friend, family acquaintance, teacher, counsellor or therapist who may have passed away or may not be contactable.",
                "Remember the emotions you went through when you received kindness and compassion form this figure and how emotional this was for you.",
                "Focus your attention and adopt this figure as your idealised role model.",
                "Create a platonic loving bond with this figure by singing aloud your favourite love song when remembering all your cherished memories of them.",
                "One particular song you may try is 'I cannot help falling in love with you'.",
            ],
            ["Challenge your usual ideological framework to weaken any one sided belief patterns and encourage spontaneity and examination of any issue from multiple perspectives. Practice this with subjects or themes that you have deep rooted beliefs about and you are also interested in. This may include any social, political, or ethical issue, such as marriage, sexual orientation or racism. For example, whatever your political viewpoint on a specific subject is, consider the subject both from a liberal and conservative or from a left wing and right wing point of view and try to understand both sides of the issue and challenge your dominant ideological framework. This does not mean that you would change your viewpoint but it allows you to see the subject from different perspectives and to be able to put yourself in other people's shoes. Try to consider a question or issue that is different from what you may have thought of while practising this exercise in the past, and do so for at least 5 minutes."],
            ["Put together a list of inspirational affirmations by figures you admire. Choose the three that inspire you most. Read them out and repeat slowly for at least three minutes."],
            [
                "- After the initial assimilation of a tragedy, no doubt with an upsurge in negative emotions, remember that Nietzsche wished all people he cared for severe suffering and desolation, which is a very funny thing to do:",
                "'To those human beings who are of any concern to me I wish suffering, desolation, sickness, ill-treatment, indignities‚ÄîI wish that they should not remain unfamiliar with profound self-contempt, the torture of self-mistrust, the wretchedness of the vanquished: I have no pity for them, because I wish them the only thing that can prove today whether one is worth anything or not‚Äîthat one endures'.",
                "- So, thinking about your tragedy recite this quotation aloud and as soon as you reach the words:",
                "'I wish suffering, desolation, sickness, ill-treatment, ...', start laughing and continue to laugh as you read out the whole quotation.",
                "I just want to add that it is good to try this exercise and familiarise yourself with it now that you're in a positive mood, but I also suggest that you attempt it whenever you are experiencing negative emotions.",
            ],
            [
                "- We un-(sub-)consciously use our internal working model (IWM) we learned from our early environment to interpret the social world for taking action.",
                "- In many ways, we may unconsciously emulate the way our primary care-givers interpreted social interactions for taking action.",
                "- Start to make adjustments in these interpretations to create more optimal consciously chosen pattern of behavior that correspond to your emotional growth.",
                "It is best to think of this exercise now that you're in a positive mood, and even try it, but I would strongly recommend that you also attempt it whenever you are experiencing negative emotions.",
            ],
            [
                "The Adult becomes aware of the facets of the trauma triangle: internal persecutor, victim, and rescuer.",
                "The Adult examines the effects of this triangle (narcissism and lack of creativity) in daily life and previous experiences.",
                "The Adult reviews their important life experiences and their social and political points of view as an adult, with awareness how the internal persecutor operates.",
                "The Adult creates a list of examples from their own experiences for the four different ways the internal persecutor operates.",
                "The Adult carefully analyzes their life experiences for examples of being drawn to trauma, being traumatized by the internal persecutor, and projecting the internal persecutor onto others.",
                "Based on the above, the Adult re evaluates their experiences, contains the internal persecutor, victim mentality and blame games, allowing the development of creativity.",
            ],
            [
                "After the Child's arousal level is reduced and as we continue to practice the exercise for modulating negative affects, and the exercises for laughter, we ask our child the following:",
                "- How can you see the crisis as a way of becoming stronger? (hah hah hah).",
                "- How can you interpret the crisis as a way of reaching your noble goal? (hah hah hah).",
                "- Has the internal persecutor been projecting onto others again?",
                "The Adult asks the following questions:",
                "- What is the similarity between this crisis and ones I have faced before?",
                "- How is it similar to the family crisis I experienced as a child?",
                "- Aren't the other person's positive attributes greater than their negative ones?",
                "- How would a mature person interpret the crisis in comparison to my Child?",
                "- Can I see it from the perspective of the other?",
                "- Can I put myself in their place and understand their affects?",
                "- Given my new insights can I find a way to calm the people involved in the crisis so we can find a better solution for it?",
                "- If I cannot, can I just respectfully maintain my distance and end the argument/conflict?",
            ],
            [
                "Our Adult asks our Child if it makes any sense to be subservient to the super profit making system which has brought us to the present abyss.",
                "Do I really need all these desired products, objects and services following the myriad of messages and peer/societal pressures on me?",
                "Does it make sense to crave for a materialistic/hedonistic and selfish lifestyle when life is under the impending threat of destruction?",
                "Do we want to continue to play this zero sum materialistic game or do we want to follow our noble goals in tackling our existential problems?",
                "Can we save the living planet other than by working towards a new global social contract based on universal compassion in which human aggression can be sublimated to creativity for the common good?",
            ],
        ]

exercise_rankings = {
            0: exercise_titles[9], #overcoming negative emotion
            1: exercise_titles[10], #overcoming past pain
            2: exercise_titles[7], #sing a song
            3: exercise_titles[16], #learning to be playful about your past pain
            4: exercise_titles[15], #learning to change your perspective
            5: exercise_titles[17], #identifying patterns of acting out personal resentments
            6: exercise_titles[18], #planning more constructive actions

            # The rest should just be recommended in numerical order.
        }

exercises = [i for i in range(1, 27)]


def add_exercises(emotion, is_negative, sat_exercises):
  if is_negative:
    sat_exercises.extend([exercise_titles[15], exercise_titles[17], exercise_titles[18],
                          exercise_titles[7], exercise_titles[8], exercise_titles[12], 
                          exercise_titles[13], exercise_titles[14], exercise_titles[19],
                          exercise_titles[21], exercise_titles[22], exercise_titles[23],
                          exercise_titles[26]])
  else:
    if emotion in ["jealousy", "envy", "anger"]:
      sat_exercises.extend([exercise_titles[17], exercise_titles[18]])
    else:
      sat_exercises.extend([exercise_titles[9], exercise_titles[7], exercise_titles[16], exercise_titles[15]])
  sat_exercises = list(set(sat_exercises))
  return sat_exercises


def show_recommendations(sat_exercises):
  for ex in sat_exercises:
    print(ex)

def show_exercise_instructions(chosen_ex_number):
  utterance1 = f"Ok! Below are the instructions to complete exercise {exercise_titles[int(chosen_ex_number)]}."
  utterance2 = "\n".join(exercise_texts[int(chosen_ex_number)])
  return f"{utterance1}\n{utterance2}"